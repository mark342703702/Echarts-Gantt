{"version":3,"file":"js/549.0ba4a24a.js","mappings":"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","sources":["webpack://echarts-gantt/./src/views/multichoose/index.vue","webpack://echarts-gantt/./src/views/multichoose/config.js","webpack://echarts-gantt/src/views/multichoose/index.vue","webpack://echarts-gantt/./src/views/multichoose/index.vue?782f","webpack://echarts-gantt/./src/views/multichoose/index.vue?d5b2"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',[_vm._v(\" 多选操作 \"),_c('el-link',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.show = true}}},[_vm._v(\"查看演示\")])],1),_c('div',{staticClass:\"gantt-content\"},[_c('GanttChart',{ref:\"GanttChart\",attrs:{\"id\":\"dragbase\",\"yAxisData\":_vm.yAxisData,\"seriesData\":_vm.seriesData,\"chartStarTime\":_vm.chartStarTime,\"chartEndTime\":_vm.chartEndTime,\"lockGantt\":false,\"taskRender\":_vm.taskRender,\"handleDrag\":_vm.handleDrag,\"multiChoose\":true,\"menuRender\":_vm.menuRender},on:{\"menuOperateSubmit\":_vm.menuOperateSubmit}})],1),_c('el-dialog',{attrs:{\"title\":\"操作演示\",\"visible\":_vm.show,\"width\":\"80%\",\"top\":\"5vh\"},on:{\"update:visible\":function($event){_vm.show=$event}}},[_c('el-image',{attrs:{\"src\":_vm.pic}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import dayjs from \"dayjs\";\r\n\r\n//y轴配置数据\r\nexport const yAxisData = [\r\n  {\r\n    value: [\r\n      0, //categoryIndex y轴种类id,从0开始逐步+1\r\n      // y轴数据\r\n      {\r\n        //y轴名称\r\n        label: \"产线1\",\r\n        //自定义.....\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    value: [\r\n      1,\r\n      {\r\n        label: \"产线2\",\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    value: [\r\n      2,\r\n      {\r\n        label: \"产线3\",\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    value: [\r\n      3,\r\n      {\r\n        label: \"产线4\",\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\n//甘特图数据\r\nexport const seriesData = [\r\n  {\r\n    value: [\r\n      //对应y轴categoryIndex\r\n      0,\r\n      //开始时间\r\n      1715653367000,\r\n      //结束时间\r\n      1715664167000,\r\n      //task 任务id(一般用顺序id,从0开始 依次增加 唯一)\r\n      0,\r\n      //task 任务数据\r\n      {\r\n        //显示名称\r\n        name: \"G12400002\",\r\n        //数据id (唯一)\r\n        unitId: \"cc7b1707\",\r\n        //....用户自定义字段\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    value: [\r\n      1,\r\n      dayjs().subtract(1, \"hour\").valueOf(),\r\n      dayjs().add(1, \"hour\").valueOf(),\r\n      1,\r\n      {\r\n        name: \"G12400002\",\r\n        unitId: \"cc7b656\",\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    value: [\r\n      2,\r\n      dayjs().valueOf(),\r\n      dayjs().add(2, \"hour\").valueOf(),\r\n      2,\r\n      {\r\n        name: \"G12400002\",\r\n        unitId: \"cc34656\",\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    value: [\r\n      3,\r\n      dayjs().add(2, \"hour\").valueOf(),\r\n      dayjs().add(4, \"hour\").valueOf(),\r\n      3,\r\n      {\r\n        name: \"G12400002\",\r\n        unitId: \"c344656\",\r\n      },\r\n    ],\r\n  },\r\n];\r\n","<template>\r\n  <div>\r\n    <h1>\r\n      多选操作\r\n      <el-link type=\"primary\" @click=\"show = true\">查看演示</el-link>\r\n    </h1>\r\n    <div class=\"gantt-content\">\r\n      <GanttChart\r\n        ref=\"GanttChart\"\r\n        id=\"dragbase\"\r\n        :yAxisData=\"yAxisData\"\r\n        :seriesData=\"seriesData\"\r\n        :chartStarTime=\"chartStarTime\"\r\n        :chartEndTime=\"chartEndTime\"\r\n        :lockGantt=\"false\"\r\n        :taskRender=\"taskRender\"\r\n        :handleDrag=\"handleDrag\"\r\n        :multiChoose=\"true\"\r\n        :menuRender=\"menuRender\"\r\n        @menuOperateSubmit=\"menuOperateSubmit\"\r\n      />\r\n    </div>\r\n    <el-dialog title=\"操作演示\" :visible.sync=\"show\" width=\"80%\" top=\"5vh\">\r\n      <el-image :src=\"pic\"></el-image>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport GanttChart from \"@/components/ganttChart\";\r\nimport { yAxisData, seriesData } from \"./config\";\r\nimport pic from \"@/assets/op1.gif\";\r\nimport dayjs from \"dayjs\";\r\nimport { cloneDeep } from \"lodash\";\r\nexport default {\r\n  components: { GanttChart },\r\n  data() {\r\n    return {\r\n      show: false,\r\n      pic,\r\n      yAxisData,\r\n      seriesData,\r\n      chartStarTime: \"\",\r\n      chartEndTime: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    menuOperateSubmit(item) {\r\n      switch (item.event) {\r\n        case \"single-del\":\r\n          this.$notify({\r\n            title: \"提示\",\r\n            message: \"您操作了删除\",\r\n            type: \"success\",\r\n          });\r\n          break;\r\n\r\n        case \"multi-del\":\r\n          this.$notify({\r\n            title: \"提示\",\r\n            message: \"您操作了批量删除\",\r\n            type: \"success\",\r\n          });\r\n          break;\r\n      }\r\n    },\r\n    menuRender(data, selectRows) {\r\n      const { data: task } = data;\r\n      if (selectRows.length > 1) {\r\n        return [\r\n          {\r\n            label: \"批量删除\",\r\n            event: \"multi-del\",\r\n            disabled: false,\r\n            target: cloneDeep(task),\r\n          },\r\n        ];\r\n      } else {\r\n        return [\r\n          {\r\n            label: \"删除\",\r\n            event: \"single-del\",\r\n            disabled: false,\r\n            target: cloneDeep(selectRows),\r\n          },\r\n        ];\r\n      }\r\n    },\r\n    taskRender(data) {\r\n      return {\r\n        rectStyle: {\r\n          //自定义选中样式\r\n          stroke: data.selectedType ? \"#000\" : \"#fff\",\r\n        },\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {Array} list 变动的数据\r\n     * @param {Array} seriesData 所有数据，可以用来校验\r\n     * @param {Function} goBackDrag 回退函数\r\n     */\r\n    handleDrag(list, seriesData, goBackDrag) {\r\n      const h = this.$createElement;\r\n      const htmlContent = h(\r\n        \"div\",\r\n        {},\r\n        list.map((i) =>\r\n          h(\r\n            \"div\",\r\n            {},\r\n            `${dayjs(i.newStartTime).format(\"YYYY-MM-DD HH:mm:ss\")}~${dayjs(\r\n              i.newEndTime\r\n            ).format(\"YYYY-MM-DD HH:mm:ss\")}`\r\n          )\r\n        )\r\n      );\r\n      this.$confirm(\"是否确认该次拖动?\", \"提示\", { type: \"success\" })\r\n        .then(() => {\r\n          this.$message.success(\"更新成功\");\r\n          this.$notify({\r\n            title: \"变动后时间：\",\r\n            message: htmlContent,\r\n          });\r\n        })\r\n        .catch(() => {\r\n          goBackDrag();\r\n          this.$message.success(\"已还原\");\r\n        });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.chartStarTime = dayjs()\r\n      .subtract(1, \"days\")\r\n      .format(\"YYYY-MM-DD 00:00:00\");\r\n    this.chartEndTime = dayjs().add(1, \"days\").format(\"YYYY-MM-DD 00:00:00\");\r\n    this.$nextTick(() => {\r\n      this.$refs[\"GanttChart\"].initEchart();\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.gantt-content {\r\n  width: 100%;\r\n  margin-top: 30px;\r\n  height: calc(100vh - 120px);\r\n  min-height: 450px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1172c1a2&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1172c1a2&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1172c1a2\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","_v","attrs","on","$event","show","staticClass","ref","yAxisData","seriesData","chartStarTime","chartEndTime","taskRender","handleDrag","menuRender","menuOperateSubmit","pic","staticRenderFns","value","label","name","unitId","dayjs","subtract","valueOf","add","components","GanttChart","data","methods","item","event","$notify","title","message","type","selectRows","task","length","disabled","target","cloneDeep","rectStyle","stroke","selectedType","list","goBackDrag","h","$createElement","htmlContent","map","i","newStartTime","format","newEndTime","$confirm","then","$message","success","catch","mounted","$nextTick","$refs","initEchart","component"],"sourceRoot":""}